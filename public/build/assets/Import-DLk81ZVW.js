import{c as E,u as I,r as C,j as t,L as k,a as F}from"./app-PFMTeGKY.js";import{P as D}from"./page-shell-DUjiKtAj.js";import{B as b}from"./index-oTGmYcGU.js";import{L,I as B}from"./label-CNOelgQz.js";import{e as v,i as g}from"./app-layout-D2IbHVWR.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./index-BLv60383.js";import"./index-ClYWWAsG.js";import"./app-logo-icon-rfpFvblb.js";function H(){const e=E.c(20),{import_result:s}=I().props;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={title:"Employees",href:v.index().url},e[0]=o):o=e[0];let m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=[o,{title:"Import",href:g.create().url}],e[1]=m):m=e[1];const N=m,[i,S]=C.useState(null),w=!!i;let n;e[2]!==i?(n=()=>{if(!i)return;const _=new FormData;_.append("file",i),F.post(g.store().url,_,{forceFormData:!0,preserveScroll:!0})},e[2]=i,e[3]=n):n=e[3];const j=n;let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsxs("div",{className:"space-y-2",children:[t.jsx("h1",{className:"text-xl font-semibold",children:"Import Employees"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload a CSV or Excel file (.csv, .xlsx). Status and tags should be names, not IDs."})]}),e[4]=c):c=e[4];let d;e[5]===Symbol.for("react.memo_cache_sentinel")?(d=t.jsx(L,{children:"File"}),e[5]=d):d=e[5];let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=t.jsxs("div",{className:"space-y-2",children:[d,t.jsx(B,{type:"file",accept:".csv,.xlsx,.xls",onChange:_=>S(_.target.files?.[0]??null)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Tip: use the template columns shown below."})]}),e[6]=u):u=e[6];const y=!w;let l;e[7]!==j||e[8]!==y?(l=t.jsx(b,{type:"button",onClick:j,disabled:y,children:"Upload & Import"}),e[7]=j,e[8]=y,e[9]=l):l=e[9];let p;e[10]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(b,{variant:"outline",asChild:!0,children:t.jsx("a",{href:g.template().url,children:"Download CSV template"})}),e[10]=p):p=e[10];let f;e[11]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsx(b,{variant:"outline",asChild:!0,children:t.jsx(k,{href:v.index().url,children:"Back"})}),e[11]=f):f=e[11];let r;e[12]!==l?(r=t.jsxs("div",{className:"flex gap-2",children:[l,p,f]}),e[12]=l,e[13]=r):r=e[13];let a;e[14]!==s?(a=s&&t.jsxs("div",{className:"space-y-2 rounded-md border p-3 text-sm",children:[t.jsxs("div",{className:"font-medium",children:[s.ok?"✅":"❌"," ",s.message]}),s.summary&&t.jsxs("div",{className:"text-muted-foreground",children:["Created: ",s.summary.created," • Updated: ",s.summary.updated," • Failed: ",s.summary.failed]}),!!s.failures?.length&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"font-medium",children:"Failures"}),t.jsx("ul",{className:"list-disc pl-5 text-muted-foreground",children:s.failures.slice(0,10).map(P)}),s.failures.length>10&&t.jsx("div",{className:"text-muted-foreground",children:"Showing first 10 failures."})]})]}),e[14]=s,e[15]=a):a=e[15];let h;e[16]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsxs("div",{className:"overflow-auto rounded-md bg-muted p-3 text-xs",children:[t.jsx("div",{className:"mb-2 font-medium",children:"Expected columns (heading row)"}),t.jsx("pre",{className:"whitespace-pre",children:"employee_id (optional), first_name, middle_name, last_name, preferred_name, status, about_me, store_manual_id (optional), store_name (optional), hiring_date, date_of_birth, gender, marital_status, veteran_status, social_security_number, national_id_number, itin, work_email, work_phone, address_line1, address_line2, city, state, country, postal_code, tags"})]}),e[16]=h):h=e[16];let x;return e[17]!==r||e[18]!==a?(x=t.jsxs(D,{title:"Import Employees",breadcrumbs:N,children:[c,t.jsxs("div",{className:"mt-4 space-y-4 rounded-lg border p-4",children:[u,r,a,h]})]}),e[17]=r,e[18]=a,e[19]=x):x=e[19],x}function P(e,s){return t.jsxs("li",{children:["Row ",e.row,": ",e.error]},s)}export{H as default};
