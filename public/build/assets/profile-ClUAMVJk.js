import{c as m,j as l,r as $,F as C,u as k,H as T}from"./app-Ca30zfJR.js";import{q as S}from"./index-yKHhYTah.js";import{H as P}from"./heading-small-W1g7KdKW.js";import{I as N}from"./input-error-DLdfzyOQ.js";import{B as y}from"./index-CIB9QELf.js";import{p as H,o as z,n as q,T as A,l as L,m as I,q as O,X as R,O as B,r as K,x as U}from"./app-layout-DqaEyQbs.js";import{c as g}from"./utils-DvRnx1Xn.js";import{L as v,I as w}from"./label-UVPPxiPE.js";import{S as V}from"./layout-Db6D3WIa.js";import{K as W}from"./transition-tAVCG1vt.js";/* empty css            */import"./index-DrMLIrlS.js";import"./app-logo-icon-DwcvaU6f.js";function X(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=l.jsx(H,{"data-slot":"dialog",...s}),e[2]=s,e[3]=r):r=e[3],r}function G(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=l.jsx(A,{"data-slot":"dialog-trigger",...s}),e[2]=s,e[3]=r):r=e[3],r}function J(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=l.jsx(O,{"data-slot":"dialog-portal",...s}),e[2]=s,e[3]=r):r=e[3],r}function M(t){const e=m.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let r;return e[2]!==s?(r=l.jsx(q,{"data-slot":"dialog-close",...s}),e[2]=s,e[3]=r):r=e[3],r}function Y(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let a;e[3]!==s?(a=g("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",s),e[3]=s,e[4]=a):a=e[4];let o;return e[5]!==r||e[6]!==a?(o=l.jsx(B,{"data-slot":"dialog-overlay",className:a,...r}),e[5]=r,e[6]=a,e[7]=o):o=e[7],o}function Z(t){const e=m.c(12);let s,r,a;e[0]!==t?({className:r,children:s,...a}=t,e[0]=t,e[1]=s,e[2]=r,e[3]=a):(s=e[1],r=e[2],a=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(Y,{}),e[4]=o):o=e[4];let i;e[5]!==r?(i=g("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),e[5]=r,e[6]=i):i=e[6];let c;e[7]===Symbol.for("react.memo_cache_sentinel")?(c=l.jsxs(q,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(R,{}),l.jsx("span",{className:"sr-only",children:"Close"})]}),e[7]=c):c=e[7];let n;return e[8]!==s||e[9]!==a||e[10]!==i?(n=l.jsxs(J,{"data-slot":"dialog-portal",children:[o,l.jsxs(z,{"data-slot":"dialog-content",className:i,...a,children:[s,c]})]}),e[8]=s,e[9]=a,e[10]=i,e[11]=n):n=e[11],n}function ee(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let a;e[3]!==s?(a=g("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),e[3]=s,e[4]=a):a=e[4];let o;return e[5]!==r||e[6]!==a?(o=l.jsx("div",{"data-slot":"dialog-footer",className:a,...r}),e[5]=r,e[6]=a,e[7]=o):o=e[7],o}function te(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let a;e[3]!==s?(a=g("text-lg leading-none font-semibold",s),e[3]=s,e[4]=a):a=e[4];let o;return e[5]!==r||e[6]!==a?(o=l.jsx(L,{"data-slot":"dialog-title",className:a,...r}),e[5]=r,e[6]=a,e[7]=o):o=e[7],o}function se(t){const e=m.c(8);let s,r;e[0]!==t?({className:s,...r}=t,e[0]=t,e[1]=s,e[2]=r):(s=e[1],r=e[2]);let a;e[3]!==s?(a=g("text-muted-foreground text-sm",s),e[3]=s,e[4]=a):a=e[4];let o;return e[5]!==r||e[6]!==a?(o=l.jsx(I,{"data-slot":"dialog-description",className:a,...r}),e[5]=r,e[6]=a,e[7]=o):o=e[7],o}const d=t=>({url:d.url(t),method:"get"});d.definition={methods:["get","head"],url:"/settings/profile"};d.url=t=>d.definition.url+S(t);d.get=t=>({url:d.url(t),method:"get"});d.head=t=>({url:d.url(t),method:"head"});const D=t=>({action:d.url(t),method:"get"});D.get=t=>({action:d.url(t),method:"get"});D.head=t=>({action:d.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});d.form=D;const u=t=>({url:u.url(t),method:"patch"});u.definition={methods:["patch"],url:"/settings/profile"};u.url=t=>u.definition.url+S(t);u.patch=t=>({url:u.url(t),method:"patch"});const E=t=>({action:u.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});E.patch=t=>({action:u.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});u.form=E;const f=t=>({url:f.url(t),method:"delete"});f.definition={methods:["delete"],url:"/settings/profile"};f.url=t=>f.definition.url+S(t);f.delete=t=>({url:f.url(t),method:"delete"});const Q=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});Q.delete=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=Q;const F={update:u,destroy:f};function re(){const t=m.c(9),e=$.useRef(null);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=l.jsx(P,{title:"Delete account",description:"Delete your account and all of its resources"}),t[0]=s):s=t[0];let r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[l.jsx("p",{className:"font-medium",children:"Warning"}),l.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t[1]=r):r=t[1];let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=l.jsx(G,{asChild:!0,children:l.jsx(y,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t[2]=a):a=t[2];let o,i;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(te,{children:"Are you sure you want to delete your account?"}),i=l.jsx(se,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t[3]=o,t[4]=i):(o=t[3],i=t[4]);let c,n,p;t[5]===Symbol.for("react.memo_cache_sentinel")?(c=F.destroy.form(),n={preserveScroll:!0},p=()=>e.current?.focus(),t[5]=c,t[6]=n,t[7]=p):(c=t[5],n=t[6],p=t[7]);let h;return t[8]===Symbol.for("react.memo_cache_sentinel")?(h=l.jsxs("div",{className:"space-y-6",children:[s,l.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[r,l.jsxs(X,{children:[a,l.jsxs(Z,{children:[o,i,l.jsx(C,{...c,options:n,onError:p,resetOnSuccess:!0,className:"space-y-6",children:j=>{const{resetAndClearErrors:b,processing:_,errors:x}=j;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(v,{htmlFor:"password",className:"sr-only",children:"Password"}),l.jsx(w,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),l.jsx(N,{message:x.password})]}),l.jsxs(ee,{className:"gap-2",children:[l.jsx(M,{asChild:!0,children:l.jsx(y,{variant:"secondary",onClick:()=>b(),children:"Cancel"})}),l.jsx(y,{variant:"destructive",disabled:_,asChild:!0,children:l.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),t[8]=h):h=t[8],h}const le=[{title:"Profile settings",href:U().url}];function ye(t){const e=m.c(11),{auth:s}=k().props;let r,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=l.jsx(T,{title:"Profile settings"}),a=l.jsx("h1",{className:"sr-only",children:"Profile Settings"}),e[0]=r,e[1]=a):(r=e[0],a=e[1]);let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o=l.jsx(P,{title:"Profile information",description:"Update your name and email address"}),e[2]=o):o=e[2];let i,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(i=F.update.form(),c={preserveScroll:!0},e[3]=i,e[4]=c):(i=e[3],c=e[4]);let n;e[5]!==s.user.email||e[6]!==s.user.name?(n=l.jsxs("div",{className:"space-y-6",children:[o,l.jsx(C,{...i,options:c,className:"space-y-6",children:j=>{const{processing:b,recentlySuccessful:_,errors:x}=j;return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(v,{htmlFor:"name",children:"Name"}),l.jsx(w,{id:"name",className:"mt-1 block w-full",defaultValue:s.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),l.jsx(N,{className:"mt-2",message:x.name})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(v,{htmlFor:"email",children:"Email address"}),l.jsx(w,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:s.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),l.jsx(N,{className:"mt-2",message:x.email})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(y,{disabled:b,"data-test":"update-profile-button",children:"Save"}),l.jsx(W,{show:_,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:l.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})}})]}),e[5]=s.user.email,e[6]=s.user.name,e[7]=n):n=e[7];let p;e[8]===Symbol.for("react.memo_cache_sentinel")?(p=l.jsx(re,{}),e[8]=p):p=e[8];let h;return e[9]!==n?(h=l.jsxs(K,{breadcrumbs:le,children:[r,a,l.jsxs(V,{children:[n,p]})]}),e[9]=n,e[10]=h):h=e[10],h}export{ye as default};
