import{c as re,u as ge,r as g,j as e,F as ve,L as _e}from"./app-h-rECu_E.js";import{I as l}from"./input-error-DNhdwWbo.js";import{P as Ne}from"./page-shell-DOrY3A1I.js";import{B as k}from"./index-BaYs2Y78.js";import{L as i,I as c}from"./label-DOua2kZ2.js";import{S as V,a as I,b as w,c as E,d as x}from"./select-CsU4_De1.js";import{T as be}from"./textarea-9tH_cw4I.js";import{d as Se}from"./index-yKHhYTah.js";import{e as Y}from"./app-layout-BzLfzx1L.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./index-7W90VU8b.js";import"./index-CCPe-jhX.js";import"./check-BEYeIevg.js";import"./app-logo-icon-vALzpN3t.js";const le=s=>{if(!s)return"";const t=s.match(/^(\d{4}-\d{2}-\d{2})/);return t?t[1]:""},y=()=>{const s=re.c(1);let t;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=e.jsx("span",{className:"text-destructive",children:" *"}),s[0]=t):t=s[0],t},p=()=>{const s=re.c(1);let t;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=e.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"(optional)"}),s[0]=t):t=s[0],t};function Ue(){const s=re.c(45),{employee:t,statuses:Z,tags:ee,stores:se}=ge().props,[T,ie]=g.useState(String(t.employee_status_id??"")),[A,de]=g.useState(t.employment?.store_id?String(t.employment.store_id):""),[M,ce]=g.useState(t.demographics?.gender??""),[P,me]=g.useState(t.demographics?.marital_status??"");let v;s[0]!==t.contacts?(v=t.contacts?.length?t.contacts:[{contact_type:"work_email",contact_value:"",is_primary:!0}],s[0]=t.contacts,s[1]=v):v=s[1];let D;s[2]!==v?(D=v.map(Ae),s[2]=v,s[3]=D):D=s[3];const[te,F]=g.useState(D);let _;s[4]!==t.addresses?(_=t.addresses?.length?t.addresses:[{address_type:"present",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}],s[4]=t.addresses,s[5]=_):_=s[5];let O;s[6]!==_?(O=_.map(Te),s[6]=_,s[7]=O):O=s[7];const[ae,f]=g.useState(O);let N;s[8]!==t.tags?(N=t.tags??[],s[8]=t.tags,s[9]=N):N=s[9];let q;s[10]!==N?(q=N.map(Fe),s[10]=N,s[11]=q):q=s[11];const oe=q,[L,ue]=g.useState(oe);let R;s[12]===Symbol.for("react.memo_cache_sentinel")?(R={title:"Dashboard",href:Se().url},s[12]=R):R=s[12];let W;s[13]===Symbol.for("react.memo_cache_sentinel")?(W={title:"Employees",href:Y.index().url},s[13]=W):W=s[13];let b;s[14]!==t?(b=Y.edit(t),s[14]=t,s[15]=b):b=s[15];let B;s[16]!==b.url?(B=[R,W,{title:"Edit",href:b.url}],s[16]=b.url,s[17]=B):B=s[17];const ne=B;let G;s[18]===Symbol.for("react.memo_cache_sentinel")?(G=h=>{ue(j=>j.includes(h)?j.filter(n=>n!==h):[...j,h])},s[18]=G):G=s[18];const pe=G;let H;s[19]===Symbol.for("react.memo_cache_sentinel")?(H=h=>{F(j=>j.map((n,r)=>({...n,is_primary:r===h})))},s[19]=H):H=s[19];const xe=H;let z;s[20]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{F(Ee)},s[20]=z):z=s[20];const he=z;let J;s[21]===Symbol.for("react.memo_cache_sentinel")?(J=h=>{F(j=>{const n=j.filter((r,a)=>a!==h);return n.length&&!n.some(we)&&(n[0].is_primary=!0),n.length?n:[{contact_type:"work_email",contact_value:"",is_primary:!0}]})},s[21]=J):J=s[21];const je=J;let K;s[22]===Symbol.for("react.memo_cache_sentinel")?(K=()=>{f(Ie)},s[22]=K):K=s[22];const ye=K;let Q;s[23]===Symbol.for("react.memo_cache_sentinel")?(Q=h=>{f(j=>{const n=j.filter((r,a)=>a!==h);return n.length?n:[{address_type:"present",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}]})},s[23]=Q):Q=s[23];const fe=Q;let U;s[24]===Symbol.for("react.memo_cache_sentinel")?(U=e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-semibold",children:"Edit Employee"})}),s[24]=U):U=s[24];let S;s[25]!==t?(S=Y.update.form(t),s[25]=t,s[26]=S):S=s[26];let C;s[27]!==ae||s[28]!==te||s[29]!==t||s[30]!==A||s[31]!==M||s[32]!==P||s[33]!==T||s[34]!==Z||s[35]!==se||s[36]!==L||s[37]!==ee?(C=h=>{const{processing:j,errors:n}=h;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Basic"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"first_name",children:["First name",e.jsx(y,{})]}),e.jsx(c,{id:"first_name",name:"first_name",required:!0,defaultValue:t.first_name??""}),e.jsx(l,{message:n.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"middle_name",children:["Middle name",e.jsx(p,{})]}),e.jsx(c,{id:"middle_name",name:"middle_name",defaultValue:t.middle_name??""}),e.jsx(l,{message:n.middle_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"last_name",children:["Last name",e.jsx(y,{})]}),e.jsx(c,{id:"last_name",name:"last_name",required:!0,defaultValue:t.last_name??""}),e.jsx(l,{message:n.last_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"preferred_name",children:["Preferred name",e.jsx(p,{})]}),e.jsx(c,{id:"preferred_name",name:"preferred_name",defaultValue:t.preferred_name??""}),e.jsx(l,{message:n.preferred_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Status",e.jsx(y,{})]}),e.jsx("input",{type:"hidden",name:"employee_status_id",value:T}),e.jsxs(V,{value:T,onValueChange:ie,children:[e.jsx(I,{children:e.jsx(w,{placeholder:"Select status"})}),e.jsx(E,{children:Z.map(Ve)})]}),e.jsx(l,{message:n.employee_status_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{htmlFor:"about_me",children:["About",e.jsx(p,{})]}),e.jsx(be,{id:"about_me",name:"about_me",rows:4,defaultValue:t.about_me??""}),e.jsx(l,{message:n.about_me})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Employment"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional. If you clear all fields, the employment record will be removed."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(i,{children:["Store",e.jsx(p,{})]}),e.jsx("input",{type:"hidden",name:"employment[store_id]",value:A}),e.jsxs(V,{value:A||"none",onValueChange:r=>de(r==="none"?"":r),children:[e.jsx(I,{children:e.jsx(w,{placeholder:"Select store"})}),e.jsxs(E,{children:[e.jsx(x,{value:"none",children:"—"}),se.map(ke)]})]}),e.jsx(l,{message:n["employment.store_id"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Hiring date",e.jsx(p,{})]}),e.jsx(c,{type:"date",name:"employment[hiring_date]",defaultValue:le(t.employment?.hiring_date)}),e.jsx(l,{message:n["employment.hiring_date"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Demographics"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional. Values are limited to what the database accepts."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Date of birth",e.jsx(p,{})]}),e.jsx(c,{type:"date",name:"demographics[date_of_birth]",defaultValue:le(t.demographics?.date_of_birth)}),e.jsx(l,{message:n["demographics.date_of_birth"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Gender",e.jsx(p,{})]}),e.jsx("input",{type:"hidden",name:"demographics[gender]",value:M}),e.jsxs(V,{value:M||"none",onValueChange:r=>ce(r==="none"?"":r),children:[e.jsx(I,{children:e.jsx(w,{placeholder:"Select gender"})}),e.jsxs(E,{children:[e.jsx(x,{value:"none",children:"—"}),e.jsx(x,{value:"Male",children:"Male"}),e.jsx(x,{value:"Female",children:"Female"})]})]}),e.jsx(l,{message:n["demographics.gender"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Marital status",e.jsx(p,{})]}),e.jsx("input",{type:"hidden",name:"demographics[marital_status]",value:P}),e.jsxs(V,{value:P||"none",onValueChange:r=>me(r==="none"?"":r),children:[e.jsx(I,{children:e.jsx(w,{placeholder:"Select marital status"})}),e.jsxs(E,{children:[e.jsx(x,{value:"none",children:"—"}),e.jsx(x,{value:"Single",children:"Single"}),e.jsx(x,{value:"Married",children:"Married"}),e.jsx(x,{value:"Divorced",children:"Divorced"}),e.jsx(x,{value:"Widowed",children:"Widowed"})]})]}),e.jsx(l,{message:n["demographics.marital_status"]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[e.jsx("input",{type:"hidden",name:"demographics[veteran_status]",value:"0"}),e.jsx("input",{id:"veteran",type:"checkbox",name:"demographics[veteran_status]",value:"1",defaultChecked:!!t.demographics?.veteran_status}),e.jsxs(i,{htmlFor:"veteran",children:["Veteran",e.jsx(p,{})]})]}),e.jsx(l,{message:n["demographics.veteran_status"]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Identifiers"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["SSN",e.jsx(p,{})]}),e.jsx(c,{name:"identifiers[social_security_number]",defaultValue:t.identifiers?.social_security_number??""}),e.jsx(l,{message:n["identifiers.social_security_number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["National ID",e.jsx(p,{})]}),e.jsx(c,{name:"identifiers[national_id_number]",defaultValue:t.identifiers?.national_id_number??""}),e.jsx(l,{message:n["identifiers.national_id_number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["ITIN",e.jsx(p,{})]}),e.jsx(c,{name:"identifiers[itin]",defaultValue:t.identifiers?.itin??""}),e.jsx(l,{message:n["identifiers.itin"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Contacts"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Optional. If a row is present,"," ",e.jsx("span",{className:"font-medium",children:"Type"})," ","and"," ",e.jsx("span",{className:"font-medium",children:"Value"})," ","are required."]})]}),e.jsx(k,{type:"button",variant:"outline",onClick:he,children:"Add contact"})]}),e.jsx("div",{className:"space-y-4",children:te.map((r,a)=>e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("input",{type:"hidden",name:`contacts[${a}][id]`,value:r.id??""}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Type",e.jsx(y,{})]}),e.jsxs(V,{value:r.contact_type,onValueChange:m=>F(o=>o.map((d,u)=>u===a?{...d,contact_type:m}:d)),children:[e.jsx(I,{children:e.jsx(w,{})}),e.jsxs(E,{children:[e.jsx(x,{value:"work_email",children:"Work email"}),e.jsx(x,{value:"work_phone",children:"Work phone"})]})]}),e.jsx("input",{type:"hidden",name:`contacts[${a}][contact_type]`,value:r.contact_type}),e.jsx(l,{message:n[`contacts.${a}.contact_type`]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(i,{children:["Value",e.jsx(y,{})]}),e.jsx(c,{value:r.contact_value,onChange:m=>F(o=>o.map((d,u)=>u===a?{...d,contact_value:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`contacts[${a}][contact_value]`,value:r.contact_value}),e.jsx(l,{message:n[`contacts.${a}.contact_value`]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"radio",name:"__primary_contact",checked:r.is_primary,onChange:()=>xe(a)}),"Primary"]}),e.jsx(k,{type:"button",variant:"outline",onClick:()=>je(a),children:"Remove"})]}),e.jsx("input",{type:"hidden",name:`contacts[${a}][is_primary]`,value:r.is_primary?"1":"0"}),e.jsx(l,{message:n[`contacts.${a}.is_primary`]})]},a))}),e.jsx(l,{message:n.contacts})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Addresses"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Optional. If you keep a row, the database requires:",e.jsxs("span",{className:"font-medium",children:[" ","line 1, city, state, country, postal code"]}),"."]})]}),e.jsx(k,{type:"button",variant:"outline",onClick:ye,children:"Add address"})]}),e.jsx("div",{className:"space-y-4",children:ae.map((r,a)=>e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("input",{type:"hidden",name:`addresses[${a}][id]`,value:r.id??""}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Type",e.jsx(y,{})]}),e.jsxs(V,{value:r.address_type,onValueChange:$e,children:[e.jsx(I,{children:e.jsx(w,{})}),e.jsx(E,{children:e.jsx(x,{value:"present",children:"Present"})})]}),e.jsx("input",{type:"hidden",name:`addresses[${a}][address_type]`,value:r.address_type}),e.jsx(l,{message:n[`addresses.${a}.address_type`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Address line 1",e.jsx(y,{})]}),e.jsx(c,{value:r.address_line1,onChange:m=>f(o=>o.map((d,u)=>u===a?{...d,address_line1:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][address_line1]`,value:r.address_line1}),e.jsx(l,{message:n[`addresses.${a}.address_line1`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Address line 2",e.jsx(p,{})]}),e.jsx(c,{value:r.address_line2??"",onChange:m=>f(o=>o.map((d,u)=>u===a?{...d,address_line2:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][address_line2]`,value:r.address_line2??""}),e.jsx(l,{message:n[`addresses.${a}.address_line2`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["City",e.jsx(y,{})]}),e.jsx(c,{value:r.city??"",onChange:m=>f(o=>o.map((d,u)=>u===a?{...d,city:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][city]`,value:r.city??""}),e.jsx(l,{message:n[`addresses.${a}.city`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["State",e.jsx(y,{})]}),e.jsx(c,{value:r.state??"",onChange:m=>f(o=>o.map((d,u)=>u===a?{...d,state:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][state]`,value:r.state??""}),e.jsx(l,{message:n[`addresses.${a}.state`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Country",e.jsx(y,{})]}),e.jsx(c,{value:r.country??"",onChange:m=>f(o=>o.map((d,u)=>u===a?{...d,country:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][country]`,value:r.country??""}),e.jsx(l,{message:n[`addresses.${a}.country`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(i,{children:["Postal code",e.jsx(y,{})]}),e.jsx(c,{value:r.postal_code??"",onChange:m=>f(o=>o.map((d,u)=>u===a?{...d,postal_code:m.target.value}:d))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][postal_code]`,value:r.postal_code??""}),e.jsx(l,{message:n[`addresses.${a}.postal_code`]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(k,{type:"button",variant:"outline",onClick:()=>fe(a),children:"Remove"})})]},a))}),e.jsx(l,{message:n.addresses})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-medium text-muted-foreground",children:["Tags",e.jsx(p,{})]}),L.map(Ce),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:ee.map(r=>{const a=L.includes(r.id);return e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>pe(r.id)}),r.tag_name]},r.id)})}),e.jsx(l,{message:n.tag_ids})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{type:"submit",disabled:j,children:"Save"}),e.jsx(k,{variant:"outline",asChild:!0,type:"button",children:e.jsx(_e,{href:Y.show(t).url,children:"Cancel"})})]})]})},s[27]=ae,s[28]=te,s[29]=t,s[30]=A,s[31]=M,s[32]=P,s[33]=T,s[34]=Z,s[35]=se,s[36]=L,s[37]=ee,s[38]=C):C=s[38];let $;s[39]!==S||s[40]!==C?($=e.jsx(ve,{...S,className:"mt-6 max-w-3xl space-y-8",children:C}),s[39]=S,s[40]=C,s[41]=$):$=s[41];let X;return s[42]!==ne||s[43]!==$?(X=e.jsxs(Ne,{title:"Edit Employee",breadcrumbs:ne,children:[U,$]}),s[42]=ne,s[43]=$,s[44]=X):X=s[44],X}function Ce(s){return e.jsx("input",{type:"hidden",name:"tag_ids[]",value:String(s)},s)}function $e(){}function ke(s){return e.jsxs(x,{value:String(s.id),children:[s.name," (#",s.manual_id,")"]},s.id)}function Ve(s){return e.jsx(x,{value:String(s.id),children:s.value},s.id)}function Ie(s){return[...s,{address_type:"present",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}]}function we(s){return s.is_primary}function Ee(s){return[...s,{contact_type:"work_phone",contact_value:"",is_primary:!1}]}function Fe(s){return s.id}function Te(s){return{id:s.id,address_type:"present",address_line1:s.address_line1??"",address_line2:s.address_line2??"",city:s.city??"",state:s.state??"",country:s.country??"",postal_code:s.postal_code??""}}function Ae(s){return{id:s.id,contact_type:s.contact_type??"work_email",contact_value:s.contact_value??"",is_primary:!!s.is_primary}}export{Ue as default};
