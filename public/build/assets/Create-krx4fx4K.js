import{c as X,u as me,r as f,j as e,F as oe,L as xe}from"./app-PFMTeGKY.js";import{I as r}from"./input-error-CLz2DYDT.js";import{P as ue}from"./page-shell-DUjiKtAj.js";import{B as v}from"./index-oTGmYcGU.js";import{L as l,I as d}from"./label-CNOelgQz.js";import{S as _,a as N,b,c as S,d as u}from"./select-BbGTpr9c.js";import{T as he}from"./textarea-DtkWFRUt.js";import{d as je}from"./index-ClYWWAsG.js";import{e as z}from"./app-layout-D2IbHVWR.js";/* empty css            */import"./utils-DvRnx1Xn.js";import"./index-BLv60383.js";import"./index-LZPyxZBl.js";import"./app-logo-icon-rfpFvblb.js";const y=()=>{const s=X.c(1);let h;return s[0]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx("span",{className:"text-destructive",children:" *"}),s[0]=h):h=s[0],h},x=()=>{const s=X.c(1);let h;return s[0]===Symbol.for("react.memo_cache_sentinel")?(h=e.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"(optional)"}),s[0]=h):h=s[0],h};function qe(){const s=X.c(25),{statuses:h,tags:J,stores:K}=me().props,[$,Y]=f.useState(""),[k,Z]=f.useState(""),[I,ee]=f.useState(""),[w,se]=f.useState("");let F;s[0]===Symbol.for("react.memo_cache_sentinel")?(F=[{contact_type:"work_email",contact_value:"",is_primary:!0}],s[0]=F):F=s[0];const[Q,C]=f.useState(F);let E;s[1]===Symbol.for("react.memo_cache_sentinel")?(E=[{address_type:"present",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}],s[1]=E):E=s[1];const[U,g]=f.useState(E);let T;s[2]===Symbol.for("react.memo_cache_sentinel")?(T=[],s[2]=T):T=s[2];const[V,ae]=f.useState(T);let A;s[3]===Symbol.for("react.memo_cache_sentinel")?(A={title:"Dashboard",href:je().url},s[3]=A):A=s[3];let M;s[4]===Symbol.for("react.memo_cache_sentinel")?(M={title:"Employees",href:z.index().url},s[4]=M):M=s[4];let P;s[5]===Symbol.for("react.memo_cache_sentinel")?(P=[A,M,{title:"Create",href:z.create().url}],s[5]=P):P=s[5];const te=P;let q;s[6]===Symbol.for("react.memo_cache_sentinel")?(q=j=>{ae(p=>p.includes(j)?p.filter(t=>t!==j):[...p,j])},s[6]=q):q=s[6];const ne=q;let D;s[7]===Symbol.for("react.memo_cache_sentinel")?(D=j=>{C(p=>p.map((t,n)=>({...t,is_primary:n===j})))},s[7]=D):D=s[7];const re=D;let O;s[8]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{C(Ne)},s[8]=O):O=s[8];const le=O;let L;s[9]===Symbol.for("react.memo_cache_sentinel")?(L=j=>{C(p=>{const t=p.filter((n,a)=>a!==j);return t.length&&!t.some(_e)&&(t[0].is_primary=!0),t.length?t:[{contact_type:"work_email",contact_value:"",is_primary:!0}]})},s[9]=L):L=s[9];const ie=L;let R;s[10]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{g(ve)},s[10]=R):R=s[10];const de=R;let W;s[11]===Symbol.for("react.memo_cache_sentinel")?(W=j=>{g(p=>{const t=p.filter((n,a)=>a!==j);return t.length?t:[{address_type:"present",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}]})},s[11]=W):W=s[11];const ce=W;let B;s[12]===Symbol.for("react.memo_cache_sentinel")?(B=e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Create Employee"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Employee + related records in one request."})]}),s[12]=B):B=s[12];let G;s[13]===Symbol.for("react.memo_cache_sentinel")?(G=z.store.form(),s[13]=G):G=s[13];let H;return s[14]!==U||s[15]!==Q||s[16]!==k||s[17]!==I||s[18]!==w||s[19]!==$||s[20]!==h||s[21]!==K||s[22]!==V||s[23]!==J?(H=e.jsxs(ue,{title:"Create Employee",breadcrumbs:te,children:[B,e.jsx(oe,{...G,className:"mt-6 max-w-3xl space-y-8",children:j=>{const{processing:p,errors:t}=j;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Basic"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"first_name",children:["First name",e.jsx(y,{})]}),e.jsx(d,{id:"first_name",name:"first_name",required:!0}),e.jsx(r,{message:t.first_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"middle_name",children:["Middle name",e.jsx(x,{})]}),e.jsx(d,{id:"middle_name",name:"middle_name"}),e.jsx(r,{message:t.middle_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"last_name",children:["Last name",e.jsx(y,{})]}),e.jsx(d,{id:"last_name",name:"last_name",required:!0}),e.jsx(r,{message:t.last_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"preferred_name",children:["Preferred name",e.jsx(x,{})]}),e.jsx(d,{id:"preferred_name",name:"preferred_name"}),e.jsx(r,{message:t.preferred_name})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Status",e.jsx(y,{})]}),e.jsx("input",{type:"hidden",name:"employee_status_id",value:$}),e.jsxs(_,{value:$,onValueChange:Y,children:[e.jsx(N,{children:e.jsx(b,{placeholder:"Select status"})}),e.jsx(S,{children:h.map(fe)})]}),e.jsx(r,{message:t.employee_status_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"about_me",children:["About",e.jsx(x,{})]}),e.jsx(he,{id:"about_me",name:"about_me",rows:4}),e.jsx(r,{message:t.about_me})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Employment"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional. If you choose a store or date, the record will be created."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(l,{children:["Store",e.jsx(x,{})]}),e.jsx("input",{type:"hidden",name:"employment[store_id]",value:k}),e.jsxs(_,{value:k||"none",onValueChange:n=>Z(n==="none"?"":n),children:[e.jsx(N,{children:e.jsx(b,{placeholder:"Select store"})}),e.jsxs(S,{children:[e.jsx(u,{value:"none",children:"—"}),K.map(ge)]})]}),e.jsx(r,{message:t["employment.store_id"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"employment_hiring_date",children:["Hiring date",e.jsx(x,{})]}),e.jsx(d,{id:"employment_hiring_date",name:"employment[hiring_date]",type:"date"}),e.jsx(r,{message:t["employment.hiring_date"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Demographics"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional. Gender and marital status use the database values."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Date of birth",e.jsx(x,{})]}),e.jsx(d,{type:"date",name:"demographics[date_of_birth]"}),e.jsx(r,{message:t["demographics.date_of_birth"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Gender",e.jsx(x,{})]}),e.jsx("input",{type:"hidden",name:"demographics[gender]",value:I}),e.jsxs(_,{value:I||"none",onValueChange:n=>ee(n==="none"?"":n),children:[e.jsx(N,{children:e.jsx(b,{placeholder:"Select gender"})}),e.jsxs(S,{children:[e.jsx(u,{value:"none",children:"—"}),e.jsx(u,{value:"Male",children:"Male"}),e.jsx(u,{value:"Female",children:"Female"})]})]}),e.jsx(r,{message:t["demographics.gender"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Marital status",e.jsx(x,{})]}),e.jsx("input",{type:"hidden",name:"demographics[marital_status]",value:w}),e.jsxs(_,{value:w||"none",onValueChange:n=>se(n==="none"?"":n),children:[e.jsx(N,{children:e.jsx(b,{placeholder:"Select marital status"})}),e.jsxs(S,{children:[e.jsx(u,{value:"none",children:"—"}),e.jsx(u,{value:"Single",children:"Single"}),e.jsx(u,{value:"Married",children:"Married"}),e.jsx(u,{value:"Divorced",children:"Divorced"}),e.jsx(u,{value:"Widowed",children:"Widowed"})]})]}),e.jsx(r,{message:t["demographics.marital_status"]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-6",children:[e.jsx("input",{type:"hidden",name:"demographics[veteran_status]",value:"0"}),e.jsx("input",{id:"veteran",type:"checkbox",name:"demographics[veteran_status]",value:"1"}),e.jsxs(l,{htmlFor:"veteran",children:["Veteran",e.jsx(x,{})]}),e.jsx(r,{message:t["demographics.veteran_status"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Identifiers"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional."}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["SSN",e.jsx(x,{})]}),e.jsx(d,{name:"identifiers[social_security_number]"}),e.jsx(r,{message:t["identifiers.social_security_number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["National ID",e.jsx(x,{})]}),e.jsx(d,{name:"identifiers[national_id_number]"}),e.jsx(r,{message:t["identifiers.national_id_number"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["ITIN",e.jsx(x,{})]}),e.jsx(d,{name:"identifiers[itin]"}),e.jsx(r,{message:t["identifiers.itin"]})]})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Contacts"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Optional. If you add a row,"," ",e.jsx("span",{className:"font-medium",children:"Type"})," ","and"," ",e.jsx("span",{className:"font-medium",children:"Value"})," ","are required."]})]}),e.jsx(v,{type:"button",variant:"outline",onClick:le,children:"Add contact"})]}),e.jsx("div",{className:"space-y-4",children:Q.map((n,a)=>e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("input",{type:"hidden",name:`contacts[${a}][id]`,value:n.id??""}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Type",e.jsx(y,{})]}),e.jsxs(_,{value:n.contact_type,onValueChange:c=>C(m=>m.map((i,o)=>o===a?{...i,contact_type:c}:i)),children:[e.jsx(N,{children:e.jsx(b,{})}),e.jsxs(S,{children:[e.jsx(u,{value:"work_email",children:"Work email"}),e.jsx(u,{value:"work_phone",children:"Work phone"})]})]}),e.jsx("input",{type:"hidden",name:`contacts[${a}][contact_type]`,value:n.contact_type}),e.jsx(r,{message:t[`contacts.${a}.contact_type`]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(l,{children:["Value",e.jsx(y,{})]}),e.jsx(d,{value:n.contact_value,onChange:c=>C(m=>m.map((i,o)=>o===a?{...i,contact_value:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`contacts[${a}][contact_value]`,value:n.contact_value}),e.jsx(r,{message:t[`contacts.${a}.contact_value`]})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"radio",name:"__primary_contact",checked:n.is_primary,onChange:()=>re(a)}),"Primary"]}),e.jsx(v,{type:"button",variant:"outline",onClick:()=>ie(a),children:"Remove"})]}),e.jsx("input",{type:"hidden",name:`contacts[${a}][is_primary]`,value:n.is_primary?"1":"0"}),e.jsx(r,{message:t[`contacts.${a}.is_primary`]})]},a))}),e.jsx(r,{message:t.contacts})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm font-medium text-muted-foreground",children:"Addresses"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Optional. If you add an address row, the database requires:",e.jsxs("span",{className:"font-medium",children:[" ","line 1, city, state, country, postal code"]}),"."]})]}),e.jsx(v,{type:"button",variant:"outline",onClick:de,children:"Add address"})]}),e.jsx("div",{className:"space-y-4",children:U.map((n,a)=>e.jsxs("div",{className:"rounded-md border p-4",children:[e.jsx("input",{type:"hidden",name:`addresses[${a}][id]`,value:n.id??""}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Type",e.jsx(y,{})]}),e.jsxs(_,{value:n.address_type,onValueChange:ye,children:[e.jsx(N,{children:e.jsx(b,{})}),e.jsx(S,{children:e.jsx(u,{value:"present",children:"Present"})})]}),e.jsx("input",{type:"hidden",name:`addresses[${a}][address_type]`,value:n.address_type}),e.jsx(r,{message:t[`addresses.${a}.address_type`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Address line 1",e.jsx(y,{})]}),e.jsx(d,{value:n.address_line1,onChange:c=>g(m=>m.map((i,o)=>o===a?{...i,address_line1:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][address_line1]`,value:n.address_line1}),e.jsx(r,{message:t[`addresses.${a}.address_line1`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Address line 2",e.jsx(x,{})]}),e.jsx(d,{value:n.address_line2??"",onChange:c=>g(m=>m.map((i,o)=>o===a?{...i,address_line2:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][address_line2]`,value:n.address_line2??""}),e.jsx(r,{message:t[`addresses.${a}.address_line2`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["City",e.jsx(y,{})]}),e.jsx(d,{value:n.city??"",onChange:c=>g(m=>m.map((i,o)=>o===a?{...i,city:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][city]`,value:n.city??""}),e.jsx(r,{message:t[`addresses.${a}.city`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["State",e.jsx(y,{})]}),e.jsx(d,{value:n.state??"",onChange:c=>g(m=>m.map((i,o)=>o===a?{...i,state:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][state]`,value:n.state??""}),e.jsx(r,{message:t[`addresses.${a}.state`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Country",e.jsx(y,{})]}),e.jsx(d,{value:n.country??"",onChange:c=>g(m=>m.map((i,o)=>o===a?{...i,country:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][country]`,value:n.country??""}),e.jsx(r,{message:t[`addresses.${a}.country`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:["Postal code",e.jsx(y,{})]}),e.jsx(d,{value:n.postal_code??"",onChange:c=>g(m=>m.map((i,o)=>o===a?{...i,postal_code:c.target.value}:i))}),e.jsx("input",{type:"hidden",name:`addresses[${a}][postal_code]`,value:n.postal_code??""}),e.jsx(r,{message:t[`addresses.${a}.postal_code`]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(v,{type:"button",variant:"outline",onClick:()=>ce(a),children:"Remove"})})]},a))}),e.jsx(r,{message:t.addresses})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-sm font-medium text-muted-foreground",children:["Tags",e.jsx(x,{})]}),V.map(pe),e.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:J.map(n=>{const a=V.includes(n.id);return e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:a,onChange:()=>ne(n.id)}),n.tag_name]},n.id)})}),e.jsx(r,{message:t.tag_ids})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(v,{type:"submit",disabled:p,children:"Create"}),e.jsx(v,{variant:"outline",asChild:!0,type:"button",children:e.jsx(xe,{href:z.index().url,children:"Cancel"})})]})]})}})]}),s[14]=U,s[15]=Q,s[16]=k,s[17]=I,s[18]=w,s[19]=$,s[20]=h,s[21]=K,s[22]=V,s[23]=J,s[24]=H):H=s[24],H}function pe(s){return e.jsx("input",{type:"hidden",name:"tag_ids[]",value:String(s)},s)}function ye(){}function ge(s){return e.jsxs(u,{value:String(s.id),children:[s.name," (#",s.manual_id,")"]},s.id)}function fe(s){return e.jsx(u,{value:String(s.id),children:s.value},s.id)}function ve(s){return[...s,{address_type:"present",address_line1:"",address_line2:"",city:"",state:"",country:"",postal_code:""}]}function _e(s){return s.is_primary}function Ne(s){return[...s,{contact_type:"work_phone",contact_value:"",is_primary:s.length===0}]}export{qe as default};
